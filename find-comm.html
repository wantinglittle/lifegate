<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- Light theme (black icon) -->
  <link rel="icon" href="/images/favicon-black.svg" media="(prefers-color-scheme: light)" type="image/svg+xml">

  <!-- Dark theme (white icon) -->
  <link rel="icon" href="/images/favicon-white.svg" media="(prefers-color-scheme: dark)" type="image/svg+xml">

  <!-- Fallback favicon -->
  <link rel="icon" href="images/favicon-orange.svg" type="image/svg+xml">
  
  <!-- Enhanced SEO Meta Tags -->
  <title>Find Lifegate Community Near Me | LIFEGATE Community Directory</title>
  <meta name="description" content="Search Denver church small groups by location, day, and audience. Find Bible study groups, men's groups, women's groups, and spiritual growth communities near you at LIFEGATE Denver.">
  <meta name="keywords" content="find a small group Denver, small group Bible study Denver, church groups near me, Bible study near me, men's small group Denver, women's church group Denver, join a small group Denver, Denver church home groups, Christian small groups Denver">
  <meta name="robots" content="index, follow">
  <meta name="author" content="LIFEGATE Denver">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.lifegatecommunity.com/find-comm.html">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.lifegatecommunity.com/find-comm.html">
  <meta property="og:title" content="Find Denver Church Small Groups Near Me | LIFEGATE Community Directory">
  <meta property="og:description" content="Search Denver church small groups by location, day, and audience. Find Bible study groups, spiritual growth communities near you.">
  <meta property="og:image" content="https://www.lifegatecommunity.com/images/bible_study.jpg">
  <meta property="og:site_name" content="LIFEGATE Denver">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://www.lifegatecommunity.com/find-comm.html">
  <meta property="twitter:title" content="Find Denver Church Small Groups Near Me | LIFEGATE Community Directory">
  <meta property="twitter:description" content="Search Denver church small groups by location, day, and audience. Find Bible study groups, spiritual growth communities near you.">
  <meta property="twitter:image" content="https://www.lifegatecommunity.com/images/bible_study.jpg">
  
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://maps.googleapis.com">
  <link rel="preconnect" href="https://cdn.emailjs.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- Striking Modern Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Link to your CSS file -->
  <link href="style.css" rel="stylesheet" type="text/css" />
  
  <!-- Structured Data for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Find Denver Church Small Groups",
    "description": "Search and find church small groups in Denver. Browse Bible study groups, spiritual growth communities, and faith-based groups by location and schedule.",
    "url": "https://www.lifegatecommunity.com/find-comm.html",
    "mainEntity": {
      "@type": "ItemList",
      "name": "Denver Church Small Groups Directory",
      "description": "Complete directory of small groups and Bible study communities at LIFEGATE Denver"
    },
    "breadcrumb": {
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://www.lifegatecommunity.com/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Find Small Groups",
          "item": "https://www.lifegatecommunity.com/find-comm.html"
        }
      ]
    },
    "provider": {
      "@type": "Organization",
      "name": "LIFEGATE Denver",
      "url": "https://lifegatedenver.com"
    }
  }
  </script>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SearchResultsPage",
    "name": "Denver Church Small Groups Search",
    "description": "Find church small groups in Denver by location, day of the week, audience, and age group.",
    "url": "https://www.lifegatecommunity.com/find-comm.html",
    "mainEntity": {
      "@type": "WebSite",
      "url": "https://www.lifegatecommunity.com/",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://www.lifegatecommunity.com/find-comm.html?location={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    }
  }
  </script>
  
  <!-- EmailJS (keeping your original setup) -->
  <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>
    (function () {
      emailjs.init("vXc5-Hh3C7fIob-j5"); // Replace with your actual public key
    })();
  </script>
</head>
<body>
  <!-- Animated Background -->
  <div class="bg-animation">
    <div class="floating-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
      <div class="shape shape-4"></div>
      <div class="shape shape-5"></div>
      <div class="shape shape-6"></div>
    </div>
    <div class="gradient-orbs">
      <div class="orb orb-1"></div>
      <div class="orb orb-2"></div>
      <div class="orb orb-3"></div>
    </div>
  </div>

  <div class="main-container">
    <div class="wrapper">
      <header class="hero-header">
        <div class="header-glow"></div>
        <div class="header-content-wrapper">
          <div class="header-logo">
            <a href="https://lifegatedenver.com/">
              <div class="logo-container">
                <img src="images/lg_logo.svg" alt="Lifegate Church" height="50">
                <div class="logo-pulse"></div>
              </div>
            </a>
          </div>
          <div class="header-content">
            <h1 class="hero-title">
              <span class="title-main">LIFEGATE</span>
              <span class="title-sub">Community</span>
              <div class="title-underline"></div>
            </h1>
            <p class="hero-subtitle">Discover ‚Ä¢ Connect ‚Ä¢ Grow Together</p>
            <div class="hero-stats">
              <div class="stat-item">
                <span class="stat-number" id="total-communities">25+</span>
                <span class="stat-label">Active Communities</span>
              </div>
              <div class="stat-divider"></div>
              <div class="stat-item">
                <span class="stat-number">500+</span>
                <span class="stat-label">Members Connected</span>
              </div>
            </div>
          </div>
          <div class="header-actions">
            <a href="add-group.html" class="cta-button">
              <span>Add Community</span>
              <div class="button-glow"></div>
            </a>
          </div>
        </div>
      </header>

      <main>
        <!-- Search, Filter and Map Section -->
        <section class="main-content">
          <div class="search-panel">
            <div class="panel-header">
              <h3>Find Your Community</h3>
              <div class="header-decoration"></div>
            </div>
            
            <div class="search-group">
              <label for="location-search">
                <span class="label-icon">üìç</span>
                <span class="label-text">Location</span>
              </label>
              <div class="input-container">
                <input type="text" id="location-search" placeholder="Enter zip code">
                <button id="search-location-btn" class="search-btn">
                  <span>Search</span>
                </button>
              </div>
            </div>

            <div class="filters-grid">
              <div class="filter-group">
                <label for="day-filter">
                  <span class="label-icon">üìÖ</span>
                  <span class="label-text">Day</span>
                </label>
                <select id="day-filter" class="modern-select">
                  <option value="">All Days</option>
                  <option value="Monday">Monday</option>
                  <option value="Tuesday">Tuesday</option>
                  <option value="Wednesday">Wednesday</option>
                  <option value="Thursday">Thursday</option>
                  <option value="Friday">Friday</option>
                  <option value="Saturday">Saturday</option>
                  <option value="Sunday">Sunday</option>
                </select>
              </div>

              <div class="filter-group">
                <label for="audience-filter">
                  <span class="label-icon">üë•</span>
                  <span class="label-text">Audience</span>
                </label>
                <select id="audience-filter" class="modern-select">
                  <option value="">All</option>
                  <option value="Men">Men</option>
                  <option value="Women">Women</option>
                </select>
              </div>

              <div class="filter-group">
                <label for="age-filter">
                  <span class="label-icon">üéØ</span>
                  <span class="label-text">Age Group</span>
                </label>
                <select id="age-filter" class="modern-select">
                  <option value="">All Ages</option>
                  <option value="Kids">Kids</option>
                  <option value="Teens">Teens</option>
                  <option value="Adult">Adult</option>
                </select>
              </div>
            </div>

            <div class="filter-actions">
              <button id="apply-filters" class="filter-btn apply-btn">Apply Filters</button>
              <button id="clear-filters" class="filter-btn clear-btn">
                <span>Clear All</span>
              </button>
            </div>
          </div>

          <div class="map-section">
            <div class="map-header">
              <h3>Community Map</h3>
              <div class="map-controls">
                <button class="map-control-btn" id="zoom-to-fit">Fit All</button>
                <button class="map-control-btn" id="my-location">My Location</button>
              </div>
            </div>
            <div class="map-container">
              <div id="map"></div>
              <div class="map-overlay">
                <div class="map-legend">
                  <div class="legend-item">
                    <div class="legend-dot active"></div>
                    <span>Active Groups</span>
                  </div>
                  <div class="legend-item">
                    <div class="legend-dot meeting"></div>
                    <span>Meeting Today</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- Groups Listing Section -->
        <section class="communities-section">
          <div class="section-header">
            <div class="header-content">
              <h2 class="section-title">
                <span class="title-text">Active Communities</span>
                <span class="community-count">(<span id="group-count">0</span>)</span>
              </h2>
              <p class="section-subtitle">Join a community that fits your journey</p>
            </div>
            <div class="view-controls">
              <button class="view-btn active" data-view="grid">
                <span>Grid</span>
              </button>
              <button class="view-btn" data-view="list">
                <span>List</span>
              </button>
            </div>
          </div>
          <div id="groups-container" class="communities-grid"></div>
          
          <!-- Loading State -->
          <div class="loading-state" id="loading-communities">
            <div class="loading-spinner"></div>
            <p>Loading communities...</p>
          </div>

          <!-- Empty State -->
          <div class="empty-state" id="no-communities" style="display: none;">
            <div class="empty-icon">üîç</div>
            <h3>No communities found</h3>
            <p>Try adjusting your filters or search criteria</p>
            <button class="clear-filters-btn" onclick="document.getElementById('clear-filters').click()">
              Clear Filters
            </button>
          </div>
        </section>
      </main>

      <footer class="modern-footer">
        <div class="footer-content">
          <div class="footer-main">
            <h4>Questions about LIFEGATE Community?</h4>
            <p>We're here to help you find your place in our church family</p>
          </div>
          <button class="contact-church-btn" id="open-church-modal">
            <span>Contact Church</span>
            <div class="btn-shine"></div>
          </button>
        </div>
        <div class="footer-decoration"></div>
      </footer>

      <!-- Enhanced Modals -->
      <!-- Full Description Modal -->
      <div id="info-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modern-modal">
          <button class="close-btn close-info">
            <span></span>
            <span></span>
          </button>
          <div class="modal-header">
            <h3 id="info-title"></h3>
          </div>
          <div class="modal-body">
            <p id="info-description"></p>
            <div class="info-grid">
              <div class="info-item">
                <span class="info-label">Day</span>
                <span class="info-value" id="info-day"></span>
              </div>
              <div class="info-item">
                <span class="info-label">Time</span>
                <span class="info-value" id="info-time"></span>
              </div>
              <div class="info-item">
                <span class="info-label">Audience</span>
                <span class="info-value" id="info-audience"></span>
              </div>
              <div class="info-item">
                <span class="info-label">Age Group</span>
                <span class="info-value" id="info-age-group"></span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Form Modal -->
      <div id="contact-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modern-modal">
          <button class="close-btn close-contact">
            <span></span>
            <span></span>
          </button>
          <div class="modal-header">
            <h3>Contact Community Leader</h3>
            <p>Get connected with this community</p>
          </div>
          <div class="modal-body">
            <form id="contact-form" class="modern-form">
              <input type="hidden" id="contact-group-id">
              <div class="form-row">
                <div class="form-group">
                  <label for="contact-name">Full Name</label>
                  <input type="text" id="contact-name" name="name" required>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="contact-phone">Phone (Optional)</label>
                  <input type="text" id="contact-phone" name="phone" placeholder="(555) 123-4567" maxlength="14">
                </div>
                <div class="form-group">
                  <label for="contact-email">Email Address</label>
                  <input type="email" id="contact-email" name="email" required>
                </div>
              </div>
              <div class="form-group">
                <label for="contact-message">Message</label>
                <textarea id="contact-message" rows="4" name="message" required placeholder="Tell them a bit about yourself and why you're interested in joining..."></textarea>
              </div>
              <button type="submit" class="submit-btn">
                <span>Send Message</span>
                <div class="btn-shine"></div>
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- Success Modal -->
      <div id="groupmsg-confirmation-modal" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modern-modal success-modal">
          <button class="close-btn close-groupmsg-confirmation">
            <span></span>
            <span></span>
          </button>
          <div class="modal-header">
            <div class="success-icon">‚ú®</div>
            <h3>Message Sent Successfully!</h3>
          </div>
          <div class="modal-body">
            <p id="groupmsg-description-text">
              Your message has been delivered to the community leader. You should hear back within the next few days. 
              <br><br>
              <strong>Pro tip:</strong> Check your spam folder as replies sometimes end up there.
              <br><br>
              Thank you for taking this step toward community!
            </p>
          </div>
        </div>
      </div>

      <!-- Contact Church Modal -->
      <div id="contact-church" class="modal">
        <div class="modal-backdrop"></div>
        <div class="modal-content modern-modal">
          <button class="close-btn close-contact">
            <span></span>
            <span></span>
          </button>
          <div class="modal-header">
            <h3>Contact LIFEGATE Church</h3>
            <p>We'd love to hear from you</p>
          </div>
          <div class="modal-body">
            <form id="contact-church-form" class="modern-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="contact-church-name">Full Name</label>
                  <input type="text" id="contact-church-name" name="name" required>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="contact-church-phone">Phone (Optional)</label>
                  <input type="text" id="contact-church-phone" name="phone" placeholder="(555) 123-4567" maxlength="14">
                </div>
                <div class="form-group">
                  <label for="contact-church-email">Email Address</label>
                  <input type="email" id="contact-church-email" name="email" required>
                </div>
              </div>
              <div class="form-group">
                <label for="contact-church-message">Message</label>
                <textarea id="contact-message" rows="4" name="message" required placeholder="How can we help you? Questions about our community, services, or anything else?"></textarea>
              </div>
              <button type="submit" class="submit-btn">
                <span>Send Message</span>
                <div class="btn-shine"></div>
              </button>
            </form>
          </div>
        </div>
      </div>

      <!-- Load Google Maps dynamically and init map -->
      <script type="module">
        import { initMap } from './script.js';

        function loadGoogleMaps() {
          return new Promise((resolve, reject) => {
            if (window.google && window.google.maps) {
              return resolve();
            }

            const script = document.createElement("script");
            script.src = "https://maps.googleapis.com/maps/api/js?key=AIzaSyBaD2QPffJ15fk2E3VtQjDMRZStj1dMAlg&libraries=marker";
            script.async = true;
            script.defer = true;

            script.onload = resolve;
            script.onerror = reject;

            document.head.appendChild(script);
          });
        }

        loadGoogleMaps()
          .then(() => {
            initMap();
          })
          .catch((error) => {
            console.error("Failed to load Google Maps:", error);
            alert("Map failed to load. Please try again later.");
          });
      </script>
    </div>
  </div>
</body>
</html>